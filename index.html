<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Secure Telephone Identity Revisited: OCSP Usage</title>

  
<style type="text/css">/*<![CDATA[*/
@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}

@media screen and (min-width: 1024px) {
  ul.toc, #rfc\.toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 500px);
    width: 300px;
    padding: 0 1em;
    z-index: 1;
  }
  #rfc\.toc {
    top: 16px;
  }
  ul.toc {
    top: 80px;
    overflow: auto;
  }

  body {
    padding-left: 1.5em;
    padding-right: 29em;
  }
}

body {
  font: 15px "Helvetica Neue",Helvetica,Arial,sans-serif;
  color: #333;
  font-size-adjust: 0.5;
  line-height: 130%;
  margin: 2.5em auto;
  max-width: 724px;
}

.title, .filename, h1, h2, h3, h4 {
  font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
  font-size-adjust: 0.5;
  font-weight: 500;
  color: #333;
  line-height: 100%;
  margin: 0.8em 0 0.3em;
}
.title { font-size: 36px; }
h1 { font-size: 30px; }
h2 { font-size: 24px; }
h3, h4 { font-size: 18px; }
h1 a[href], h2 a[href], h3 a[href], h4 a[href] {
  color: #333;
}

ul.toc li {
  list-style: none;
  text-indent: -2.5em;
  padding-left: 2.5em;
  padding-bottom: 5px;
  margin: 0;
}
ul.toc ul {
  margin: 0;
}
/* xml2rfc nests ul directly inside ul which messes with the style badly */
ul.toc, ul.toc>ul, ul.toc ul>ul {
  margin: 0 0 0 1.5em;
}

table {
  margin-left: 0em;
  border-collapse: collapse;
}
th {
  text-align: left;
  border-bottom: 2px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
  vertical-align: top;
}
tr:nth-child(2n+1) > td,
tr:nth-child(2n+1) > th {
  background-color: #f9f9f9;
}
td.reference {
  max-width: 200px;
  border-top: none;
  padding-right: 1em;
}
.right {
  text-align: right;
}


table.header {
  width: 100%;
}
table.header td {
  border: none;
  background-color: transparent;
  color: black;
}
.filename {
  color: rgb(119, 119, 119);
  font-size: 23px;
  font-weight: normal;
  height: auto;
  line-height: 100%;
}
#rfc\.abstract+p {
  font-size: 20px;
  font-weight: 300;
  line-height: 130%;
}

samp, tt, code, pre {
  font: 11pt consolas, monospace;
  font-size-adjust: none;
}
pre {
  background-color: #eee;
  border: 1px solid #ddd;
  overflow-x: auto;
  padding: 5px;
  margin: 5px;
}
.figure {
  font-style: italic;
  margin: 0 1.5em;
}

address {
  margin: 10px 0 0;
}
.vcard {
  font-style: normal;
}
.vcardline {
  display: block;
}
.vcardline .fn {
  font-weight: bold;
}
.vcardline .hidden {
  display: none;
}

dl {
  margin-left: 1em;
}
dl.dl-horizontal: {
  margin-left: 0;
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl.nohang > dt {
  float: none;
}
dl > dd {
  margin-bottom: .5em;
}
dl.compact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
ul.empty {
  list-style-type: none;
}
ul.empty li {
  margin-top: .5em;
}

hr {
  border: 0;
  border-top: 1px solid #eee;
}

a {
  text-decoration: none;
}
a[href] {
  color: #2a6496;
}
a[href]:hover {
  background-color: #eee;
}

ol, ul, li, p {
  padding: 0;
  margin: 0.5em 0 0.5em 2em;
}
li, p {
  margin-left: 0;
}
address {
  font-style: normal;
}

.github-fork-ribbon-wrapper {
  display: none;
}
@media screen and (min-width: 800px) {
  /* "Fork me on GitHub" CSS ribbon based on
   * https://github.com/simonwhitaker/github-fork-ribbon-css
   */
  .github-fork-ribbon {
    position: absolute;
    padding: 2px 0;
    background-color: #a00;
    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));
    box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);
    font: 700 12px "Helvetica Neue", Helvetica, Arial, sans-serif;

    pointer-events: auto;

    top: 38px;
    right: -45px;

    transform: rotate(45deg);
  }

  .github-fork-ribbon a[href],
  .github-fork-ribbon a[href]:hover {
    color: #fff;
    background-color: transparent;
    text-decoration: none;
    text-shadow: 0 -1px rgba(0, 0, 0, 0.5);
    text-align: center;

    width: 190px;
    line-height: 18px;

    display: inline-block;
    padding: 2px 0;

    border: 1.5px dotted #fff;
    border-color: rgba(255, 255, 255, 0.6);
  }

  .github-fork-ribbon-wrapper {
    display: block;
    width: 130px;
    height: 130px;
    position: absolute;
    overflow: hidden;
    top: 0; right: 0;
    z-index: 2;
    pointer-events: none;
  }
}
@media screen and (min-width: 1000px) {
  .github-fork-ribbon-wrapper {
    position: fixed;
  }
/*]]>*/</style>


  <link href="#rfc.toc" rel="Contents"/>
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction"/>
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology"/>
<link href="#rfc.section.3" rel="Chapter" title="3 Certificate Verification Methods"/>
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Using OCSP with TN Auth List"/>
<link href="#rfc.section.3.1.1" rel="Chapter" title="3.1.1 OCSP Extension Specification"/>
<link href="#rfc.section.4" rel="Chapter" title="4 IANA Considerations"/>
<link href="#rfc.section.5" rel="Chapter" title="5 Privacy Considerations"/>
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations"/>
<link href="#rfc.section.7" rel="Chapter" title="7 Acknowledgments"/>
<link href="#rfc.references" rel="Chapter" title="8 References"/>
<link href="#rfc.references.1" rel="Chapter" title="8.1 Normative References"/>
<link href="#rfc.references.2" rel="Chapter" title="8.2 Informative References"/>
<link href="#rfc.appendix.A" rel="Chapter" title="A ASN.1 Module"/>
<link href="#rfc.authors" rel="Chapter"/>


  <meta name="generator" content="xml2rfc version 2.5.2 - http://tools.ietf.org/tools/xml2rfc" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />

  <meta name="dct.creator" content="Peterson, J. and S. Turner" />
  <meta name="dct.identifier" content="urn:ietf:id:draft-ietf-stir-certificates-ocsp-latest" />
  <meta name="dct.issued" scheme="ISO8601" content="2017-4-11" />
  <meta name="dct.abstract" content="When certificates are used as credentials to attest the assignment or ownership of telephone numbers, some mechanism is required to convey certificate freshness to relying parties.  This document specifies the use of the Online Certificate Status Protocol (OCSP) as a means of retrieving real-time status information about such certificates, defining new extensions to compensate for the dynamism of telephone number assignments." />
  <meta name="description" content="When certificates are used as credentials to attest the assignment or ownership of telephone numbers, some mechanism is required to convey certificate freshness to relying parties.  This document specifies the use of the Online Certificate Status Protocol (OCSP) as a means of retrieving real-time status information about such certificates, defining new extensions to compensate for the dynamism of telephone number assignments." />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
  <td class="left">STIR</td>
  <td class="right">J. Peterson</td>
</tr>
<tr>
  <td class="left">Internet-Draft</td>
  <td class="right">Neustar</td>
</tr>
<tr>
  <td class="left">Intended status: Standards Track</td>
  <td class="right">S. Turner</td>
</tr>
<tr>
  <td class="left">Expires: October 13, 2017</td>
  <td class="right">sn3rd</td>
</tr>
<tr>
  <td class="left"></td>
  <td class="right">April 11, 2017</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Secure Telephone Identity Revisited: OCSP Usage<br />
  <span class="filename">draft-ietf-stir-certificates-ocsp-latest</span></p>
  
  <h1 id="rfc.abstract">
  <a href="#rfc.abstract">Abstract</a>
</h1>
<p>When certificates are used as credentials to attest the assignment or ownership of telephone numbers, some mechanism is required to convey certificate freshness to relying parties.  This document specifies the use of the Online Certificate Status Protocol (OCSP) as a means of retrieving real-time status information about such certificates, defining new extensions to compensate for the dynamism of telephone number assignments.</p>
<h1 id="rfc.status">
  <a href="#rfc.status">Status of This Memo</a>
</h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on October 13, 2017.</p>
<h1 id="rfc.copyrightnotice">
  <a href="#rfc.copyrightnotice">Copyright Notice</a>
</h1>
<p>Copyright (c) 2017 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a></li>
<li>2.   <a href="#rfc.section.2">Terminology</a></li>
<li>3.   <a href="#rfc.section.3">Certificate Verification Methods</a></li>
<ul><li>3.1.   <a href="#rfc.section.3.1">Using OCSP with TN Auth List</a></li>
<ul><li>3.1.1.   <a href="#rfc.section.3.1.1">OCSP Extension Specification</a></li>
</ul></ul><li>4.   <a href="#rfc.section.4">IANA Considerations</a></li>
<li>5.   <a href="#rfc.section.5">Privacy Considerations</a></li>
<li>6.   <a href="#rfc.section.6">Security Considerations</a></li>
<li>7.   <a href="#rfc.section.7">Acknowledgments</a></li>
<li>8.   <a href="#rfc.references">References</a></li>
<ul><li>8.1.   <a href="#rfc.references.1">Normative References</a></li>
<li>8.2.   <a href="#rfc.references.2">Informative References</a></li>
</ul><li>Appendix A.   <a href="#rfc.appendix.A">ASN.1 Module</a></li>
<li><a href="#rfc.authors">Authors' Addresses</a></li>


  </ul>

  <h1 id="rfc.section.1"><a href="#rfc.section.1">1.</a> <a href="#introduction" id="introduction">Introduction</a></h1>
<p id="rfc.section.1.p.1">The STIR problem statement <a href="#RFC7340">[RFC7340]</a> discusses many attacks on the telephone network that are enabled by impersonation, including various forms of robocalling, voicemail hacking, and swatting.  One of the most important components of a system to prevent impersonation is the implementation of credentials which identify the parties who control telephone numbers.  The STIR certificates <a href="#I-D.ietf-stir-certificates">[I-D.ietf-stir-certificates]</a> specification describes a credential system based on <a href="#X.509">[X.509]</a> version 3 certificates in accordance with <a href="#RFC5280">[RFC5280]</a> for that purpose.  Those credentials can then be used by STIR authentication services <a href="#I-D.ietf-stir-rfc4474bis">[I-D.ietf-stir-rfc4474bis]</a> to sign PASSporT objects <a href="#I-D.ietf-stir-passport">[I-D.ietf-stir-passport]</a> carried in a SIP <a href="#RFC3261">[RFC3261]</a> request.</p>
<p id="rfc.section.1.p.2">The STIR certificates document specifies an extension to X.509 that defines a Telephony Number (TN) Authorization List that may be included by certificate authorities in certificates.  This extension provides additional information that relying parties can use when validating transactions with the certificate.  When a SIP request, for example, arrives at a terminating administrative domain, the calling number attested by the SIP request can be compared to the TN Authorization List of the certificate that signed the request to determine if the caller is authorized to use that calling number in SIP.</p>
<p id="rfc.section.1.p.3">However, there is significant dynamism in telephone number assignment, and due to practices like number portability, information about number assignment can suddenly become stale.  This problem is especially pronounced when a TN Authorization List extension associates a large block of telephone numbers with a certificate, as relying parties need a way to learn if any one of those telephone numbers has been ported to a different administrative entity.</p>
<p id="rfc.section.1.p.4">No specific recommendation is made in the STIR certificates document for a means of determining the freshness of certificates with a TN Authorization List.  This document explores approaches to real-time status information for such certificates, and recommends an approach.</p>
<h1 id="rfc.section.2"><a href="#rfc.section.2">2.</a> <a href="#terminology" id="terminology">Terminology</a></h1>
<p id="rfc.section.2.p.1">The key words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;REQUIRED&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;, &#8220;SHOULD&#8221;, &#8220;SHOULD NOT&#8221;, &#8220;RECOMMENDED&#8221;, &#8220;NOT RECOMMENDED&#8221;, &#8220;MAY&#8221;, and &#8220;OPTIONAL&#8221; in this document are to be interpreted as described in RFC 2119 <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.3"><a href="#rfc.section.3">3.</a> <a href="#certificate-verification-methods" id="certificate-verification-methods">Certificate Verification Methods</a></h1>
<p id="rfc.section.3.p.1">For traditional certificate status information, there are three common certificate verification mechanisms employed by CAs:</p>
<p/>

<ol>
  <li>Certificate Revocation Lists (CRLs) <a href="#RFC5280">[RFC5280]</a> (and <a href="#RFC6818">[RFC6818]</a>)</li>
  <li>Online Certificate Status Protocol (OCSP) <a href="#RFC6960">[RFC6960]</a>, and</li>
  <li>Server-based Certificate Validation Protocol (SCVP) <a href="#RFC5055">[RFC5055]</a>.</li>
</ol>
<p id="rfc.section.3.p.3">When relying on status information, the verifier needs to obtain the status information - but before that can happen, the verifier needs to know where to locate it.  Placing the location of the status information in the certificate makes the certificate larger, but it eases the client workload.  The CRL Distribution Point certificate extension includes the location of the CRL and the Authority Information Access certificate extension includes the location of OCSP and/or SCVP servers; both of these extensions are defined in <a href="#RFC5280">[RFC5280]</a>.  In all cases, the status information location is provided in the form of an URI.</p>
<p id="rfc.section.3.p.4">CRLs are an attractive solution because they are supported by every CA.  CRLs have a reputation of being quite large (10s of MBytes), because CAs maintain and issue one monolithic CRL with all of their revoked certificates, but CRLs do support a variety of mechanisms to scope the size of the CRLs based on revocation reasons (e.g., key compromise vs CA compromise), user certificates only, and CA certificates only as well as just operationally deciding to keep the CRLs small.  However, scoping the CRL introduces other issues (i.e., does the RP have all of the CRL partitions).</p>
<p id="rfc.section.3.p.5">CAs in the STIR architecture will likely all create CRLs for audit purposes, but probably not for real-time status information.  Any such CRLs used MUST be signed with the same algorithm as the certificate.  We thus anticipate that one of the two &#8220;online&#8221; options is preferred.  Between the two, OCSP is much more widely deployed and this document therefore RECOMMENDS the use of OCSP in high-volume environments (HVE) for validating the freshness of certificates, based on <a href="#RFC6960">[RFC6960]</a>, incorporating some (but not all) of the optimizations of <a href="#RFC5019">[RFC5019]</a>.</p>
<h2 id="rfc.section.3.1"><a href="#rfc.section.3.1">3.1.</a> <a href="#using-ocsp-with-tn-auth-list" id="using-ocsp-with-tn-auth-list">Using OCSP with TN Auth List</a></h2>
<p id="rfc.section.3.1.p.1">Certificates compliant with this specification SHOULD include a URL <a href="#RFC3986">[RFC3986]</a> pointing to an OCSP service in the Authority Information Access (AIA) certificate extension, via the &#8220;id-ad-ocsp&#8221; accessMethod specified in <a href="#RFC5280">[RFC5280]</a>.  It is RECOMMENDED that entities that issue certificates with the Telephone Number Authorization List certificate extension run an OCSP server for this purpose.  Baseline OCSP however supports only three possible response values: good, revoked, or unknown.  Without some extension, OCSP would not indicate whether the certificate is authorized for a particular telephone number that the verifier is validating.</p>
<p id="rfc.section.3.1.p.2">At a high level, there are two ways that a client might pose this authorization question:</p>
<p/>

<ol>
  <li>For this certificate, is the following number currently in its scope of validity?</li>
  <li>What are all the telephone numbers associated with this certificate, or this certificate subject?</li>
</ol>
<p id="rfc.section.3.1.p.4">Only the former lends itself to piggybacking on the OCSP status mechanism; since the verifier is already asking an authority about the certificate&#8217;s status, that mechanism can be reused instead of creating a new service that requires additional round trips?  Like most PKIX-developed protocols, OCSP is extensible; OCSP supports request extensions (including sending multiple requests at once) and per-request extensions.  It seems unlikely that the verifier will be requesting authorization checks on multiple telephone numbers in one request, so a per-request extension is what is needed.</p>
<p id="rfc.section.3.1.p.5">The requirement to consult OCSP in real time results in a network round-trip delay, which is something to consider because it will add to the call setup time.  OCSP server implementations commonly pre- generate responses, and to speed up HTTPS connections, servers often provide OCSP responses for each certificate in their hierarchy.  If possible, both of these OCSP concepts should be adopted for use with STIR.</p>
<h3 id="rfc.section.3.1.1"><a href="#rfc.section.3.1.1">3.1.1.</a> <a href="#ocsp-ext" id="ocsp-ext">OCSP Extension Specification</a></h3>
<p id="rfc.section.3.1.1.p.1">The extension mechanism for OCSP follows X.509 v3 certificate extensions, and thus requires an OID, a criticality flag, and ASN.1 syntax as defined by the OID.  The criticality specified here is optional: per <a href="#RFC6960">[RFC6960]</a> Section 4.4, support for all OCSP extensions is optional.  If the OCSP server does not understand the requested extension, it will still provide the baseline validation of the certificate itself.  Moreover, in practical STIR deployments, the issuer of the certificate will set the accessLocation for the OCSP AIA extension to point to an OCSP service that supports this extension, so the risk of interoperability failure due to lack of support for this extension is minimal.</p>
<p id="rfc.section.3.1.1.p.2">The OCSP TNQuery extension is included as one of the request&#8217;s singleRequestExtensions.  It may also appear in the response&#8217;s singleExtensions.  When an OCSP server includes a number in the response&#8217;s singleExtensions, this informs the client that the certificate is still valid for the number that appears in the TNQuery extension field.  If the TNQuery is absent from a response to a query containing a TNQuery in its singleRequestExtension, then the server is not able to validate that the number is still in the scope of authority of the certificate.</p>
<pre>
  id-pkix-ocsp-stir-tn  OBJECT IDENTIFIER ::= { id-pkix-ocsp 10 }

  TNQuery ::= E164Number
</pre>
<p id="rfc.section.3.1.1.p.3">The HVE OCSP profile <a href="#RFC5019">[RFC5019]</a> prohibits the use of per-request extensions.  As it is anticipated that STIR will use OCSP in a high- volume environment, many of the optimizations recommended by HVE are desirable for the STIR environment.  This document therefore uses the HVE optimizations augmented as follows:</p>
<p/>

<ul>
  <li>Implementations MUST use SHA-256 as the hashing algorithm for the CertID.issuerNameHash and the CertID.issuerKeyHash values.  That is CertID.hashAlgorithm is id-sha256 <a href="#RFC4055">[RFC4055]</a> and the values are truncated to 160-bits as specified Option 1 in Section 2 of <a href="#RFC7093">[RFC7093]</a>.</li>
  <li>Clients MUST include the OCSP TNQuery extension in requests&#8217; singleRequestExtensions.</li>
  <li>Servers MUST include the OCSP TNQuery extension in responses&#8217; singleExtensions.</li>
  <li>Servers SHOULD return responses that would otherwise have been &#8220;unknown&#8221; as &#8220;not good&#8221; (i.e., return only &#8220;good&#8221; and &#8220;not good&#8221; responses).</li>
  <li>Clients MUST treat returned &#8220;unknown&#8221; responses as &#8220;not good&#8221;.</li>
  <li>If the server uses ResponderID, it MUST generate the KeyHash using SHA-256 and truncate the value to 160-bits as specified in Option 1 in Section 2 of <a href="#RFC7093">[RFC7093]</a>.</li>
  <li>Implementations MUST support ECDSA using P-256 and SHA-256.  Note that <a href="#RFC6960">[RFC6960]</a> requires RSA with SHA-256 be supported.</li>
  <li>This removes the requirement to support SHA-1, RSA with SHA-1, or DSA with SHA-1.</li>
</ul>
<p id="rfc.section.3.1.1.p.5">OCSP responses MUST be signed using the same algorithm as the certificate being checked.</p>
<p id="rfc.section.3.1.1.p.6">To facilitate matching the authority key identifier values found in CA certificates with the KeyHash used in the OCSP response, certificates compliant with this specification MUST generate authority key identifiers and subject key identifiers using the SHA-256 and truncate the value to 160-bits as specified in Option 1 in Section 2 of <a href="#RFC7093">[RFC7093]</a>.</p>
<p id="rfc.section.3.1.1.p.7">Ideally, once a certificate has been acquired by a verifier, some sort of asynchronous mechanism could notify and update the verifier if the scope of the certificate changes so that verifiers could implement a cache.  While not all possible categories of verifiers could implement such behavior, some sort of event-driven notification of certificate status is another potential subject of future work.  One potential direction is that a future SIP SUBSCRIBE/NOTIFY-based accessMethod for AIA might be defined (which would also be applicable to the method described in the following section) by some future specification.</p>
<h1 id="rfc.section.4"><a href="#rfc.section.4">4.</a> <a href="#iana-considerations" id="iana-considerations">IANA Considerations</a></h1>
<p id="rfc.section.4.p.1">This document makes use of object identifiers for the TN-HVE OCSP extension in <a href="#ocsp-ext">Section 3.1.1</a> and the ASN.1 module identifier defined in <a href="#module">Appendix A</a>.  It therefore requests that the IANA make the following assignments:</p>
<p/>

<ul>
  <li>TN-HVE OCSP extension in the SMI Security for PKIX Online Certificate Status Protocol (OCSP) registry: http://www.iana.org/assignments/smi- numbers/smi-numbers.xhtml#smi-numbers-1.3.6.1.5.5.7.48.1</li>
</ul>
<h1 id="rfc.section.5"><a href="#rfc.section.5">5.</a> <a href="#privacy-considerations" id="privacy-considerations">Privacy Considerations</a></h1>
<p id="rfc.section.5.p.1">Querying for real-time status information about certificates can allow parties monitoring communications to gather information about relying parties and the originators of communications.  Unfortunately, the TNQuery extension adds a new field that could potentailly be monitored by OCSP eavesdroppers: the calling telephone number provides a specific piece of additional data about the originator of communications.  Using OCSP over TLS is one potential countermeasure to this threat, as described in <a href="#RFC6960">[RFC6960]</a> Appendix A.1.</p>
<p id="rfc.section.5.p.2">Another way to mitigate leaking information about relying parties is to use OCSP stapling.  Strategies for stapling OCSP <a href="#RFC6961">[RFC6961]</a> have become common in some web PKI environments as an optimization which allows web servers to send up-to-date certificate status information acquired from OCSP to clients as TLS is negotiated.  A similar mechanism could be implemented for SIP requests, in which the authentication service adds status information for its certificate to the SIP request, which would save the verifier the trouble of performing the OCSP dip itself.  Especially for high-volume authentication and verification services, this could furthermore result in significant performance improvements.  This would however require work on a generic SIP capability to carry OCSP staples that is outside the scope of this document.</p>
<h1 id="rfc.section.6"><a href="#rfc.section.6">6.</a> <a href="#security-considerations" id="security-considerations">Security Considerations</a></h1>
<p id="rfc.section.6.p.1">This document is entirely about security.  For further information on certificate security and practices, see <a href="#RFC5280">[RFC5280]</a>, in particular its Security Considerations.  For OCSP-related security considerations see <a href="#RFC6960">[RFC6960]</a> and <a href="#RFC5019">[RFC5019]</a>.</p>
<h1 id="rfc.section.7"><a href="#rfc.section.7">7.</a> <a href="#acknowledgments" id="acknowledgments">Acknowledgments</a></h1>
<p id="rfc.section.7.p.1">Stephen Farrell provided key input to the discussions leading to this document.  Russ Housley provided some direct assistance and text surrounding the ASN.1 module.</p>
<h1 id="rfc.references"><a href="#rfc.references">8.</a> References</h1>
<h2 id="rfc.references.1"><a href="#rfc.references.1">8.1.</a> Normative References</h2>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="I-D.ietf-stir-certificates">[I-D.ietf-stir-certificates]</b>
      </td>
      <td class="top"><a>Peterson, J.</a> and <a>S. Turner</a>, "<a href="http://tools.ietf.org/html/draft-ietf-stir-certificates-13">Secure Telephone Identity Credentials: Certificates</a>", Internet-Draft draft-ietf-stir-certificates-13, March 2017.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="I-D.ietf-stir-passport">[I-D.ietf-stir-passport]</b>
      </td>
      <td class="top"><a>Wendt, C.</a> and <a>J. Peterson</a>, "<a href="http://tools.ietf.org/html/draft-ietf-stir-passport-11">Personal Assertion Token (PASSporT)</a>", Internet-Draft draft-ietf-stir-passport-11, February 2017.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="I-D.ietf-stir-rfc4474bis">[I-D.ietf-stir-rfc4474bis]</b>
      </td>
      <td class="top"><a>Peterson, J.</a>, <a>Jennings, C.</a>, <a>Rescorla, E.</a> and <a>C. Wendt</a>, "<a href="http://tools.ietf.org/html/draft-ietf-stir-rfc4474bis-16">Authenticated Identity Management in the Session Initiation Protocol (SIP)</a>", Internet-Draft draft-ietf-stir-rfc4474bis-16, February 2017.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC2119">[RFC2119]</b>
      </td>
      <td class="top"><a>Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC3261">[RFC3261]</b>
      </td>
      <td class="top"><a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, DOI 10.17487/RFC3261, June 2002.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC3986">[RFC3986]</b>
      </td>
      <td class="top"><a>Berners-Lee, T.</a>, <a>Fielding, R.</a> and <a>L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", STD 66, RFC 3986, DOI 10.17487/RFC3986, January 2005.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC4055">[RFC4055]</b>
      </td>
      <td class="top"><a>Schaad, J.</a>, <a>Kaliski, B.</a> and <a>R. Housley</a>, "<a href="http://tools.ietf.org/html/rfc4055">Additional Algorithms and Identifiers for RSA Cryptography for use in the Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile</a>", RFC 4055, DOI 10.17487/RFC4055, June 2005.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5019">[RFC5019]</b>
      </td>
      <td class="top"><a>Deacon, A.</a> and <a>R. Hurst</a>, "<a href="http://tools.ietf.org/html/rfc5019">The Lightweight Online Certificate Status Protocol (OCSP) Profile for High-Volume Environments</a>", RFC 5019, DOI 10.17487/RFC5019, September 2007.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5280">[RFC5280]</b>
      </td>
      <td class="top"><a>Cooper, D.</a>, <a>Santesson, S.</a>, <a>Farrell, S.</a>, <a>Boeyen, S.</a>, <a>Housley, R.</a> and <a>W. Polk</a>, "<a href="http://tools.ietf.org/html/rfc5280">Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile</a>", RFC 5280, DOI 10.17487/RFC5280, May 2008.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC5912">[RFC5912]</b>
      </td>
      <td class="top"><a>Hoffman, P.</a> and <a>J. Schaad</a>, "<a href="http://tools.ietf.org/html/rfc5912">New ASN.1 Modules for the Public Key Infrastructure Using X.509 (PKIX)</a>", RFC 5912, DOI 10.17487/RFC5912, June 2010.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6818">[RFC6818]</b>
      </td>
      <td class="top"><a>Yee, P.</a>, "<a href="http://tools.ietf.org/html/rfc6818">Updates to the Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile</a>", RFC 6818, DOI 10.17487/RFC6818, January 2013.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6960">[RFC6960]</b>
      </td>
      <td class="top"><a>Santesson, S.</a>, <a>Myers, M.</a>, <a>Ankney, R.</a>, <a>Malpani, A.</a>, <a>Galperin, S.</a> and <a>C. Adams</a>, "<a href="http://tools.ietf.org/html/rfc6960">X.509 Internet Public Key Infrastructure Online Certificate Status Protocol - OCSP</a>", RFC 6960, DOI 10.17487/RFC6960, June 2013.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC7093">[RFC7093]</b>
      </td>
      <td class="top"><a>Turner, S.</a>, <a>Kent, S.</a> and <a>J. Manger</a>, "<a href="http://tools.ietf.org/html/rfc7093">Additional Methods for Generating Key Identifiers Values</a>", RFC 7093, DOI 10.17487/RFC7093, December 2013.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="X.509">[X.509]</b>
      </td>
      <td class="top"><a>ITU-T Recommendation X.509 | ISO/IEC 9594-8</a>, "<a>Information technology - Open Systems Interconnection - The Directory: Public-key and attribute certificate frameworks</a>", 2012.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="X.680">[X.680]</b>
      </td>
      <td class="top"><a>ITU-T Recommendation X.680 | ISO/IEC 8824-1</a>, "<a>Information Technology - Abstract Syntax Notation One: Specification of basic notation</a>", 2015.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="X.681">[X.681]</b>
      </td>
      <td class="top"><a>ITU-T Recommendation X.681 | ISO/IEC 8824-2</a>, "<a>Information Technology - Abstract Syntax Notation One: Information Object Specification</a>", 2015.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="X.682">[X.682]</b>
      </td>
      <td class="top"><a>ITU-T Recommendation X.682 | ISO/IEC 8824-2</a>, "<a>Information Technology - Abstract Syntax Notation One: Constraint Specification</a>", 2015.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="X.683">[X.683]</b>
      </td>
      <td class="top"><a>ITU-T Recommendation X.683 | ISO/IEC 8824-3</a>, "<a>Information Technology - Abstract Syntax Notation One: Parameterization of ASN.1 Specifications</a>", 2015.</td>
    </tr>
  </tbody>
</table>
<h2 id="rfc.references.2"><a href="#rfc.references.2">8.2.</a> Informative References</h2>
<table>
  <tbody>
    <tr>
      <td class="reference">
        <b id="RFC5055">[RFC5055]</b>
      </td>
      <td class="top"><a>Freeman, T.</a>, <a>Housley, R.</a>, <a>Malpani, A.</a>, <a>Cooper, D.</a> and <a>W. Polk</a>, "<a href="http://tools.ietf.org/html/rfc5055">Server-Based Certificate Validation Protocol (SCVP)</a>", RFC 5055, DOI 10.17487/RFC5055, December 2007.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC6961">[RFC6961]</b>
      </td>
      <td class="top"><a>Pettersen, Y.</a>, "<a href="http://tools.ietf.org/html/rfc6961">The Transport Layer Security (TLS) Multiple Certificate Status Request Extension</a>", RFC 6961, DOI 10.17487/RFC6961, June 2013.</td>
    </tr>
    <tr>
      <td class="reference">
        <b id="RFC7340">[RFC7340]</b>
      </td>
      <td class="top"><a>Peterson, J.</a>, <a>Schulzrinne, H.</a> and <a>H. Tschofenig</a>, "<a href="http://tools.ietf.org/html/rfc7340">Secure Telephone Identity Problem Statement and Requirements</a>", RFC 7340, DOI 10.17487/RFC7340, September 2014.</td>
    </tr>
  </tbody>
</table>
<h1 id="rfc.appendix.A"><a href="#rfc.appendix.A">Appendix A.</a> <a href="#module" id="module">ASN.1 Module</a></h1>
<p id="rfc.section.A.p.1">This appendix provides the normative ASN.1 <a href="#X.680">[X.680]</a> definitions for the structures described in this specification using ASN.1, as defined in <a href="#X.680">[X.680]</a> through <a href="#X.683">[X.683]</a>.</p>
<p id="rfc.section.A.p.2">The modules defined in this document are compatible with the most current ASN.1 specification published in 2015 (see <a href="#X.680">[X.680]</a>, <a href="#X.681">[X.681]</a>, <a href="#X.682">[X.682]</a>, <a href="#X.683">[X.683]</a>).  None of the newly defined tokens in the 2008 ASN.1 (DATE, DATE-TIME, DURATION, NOT-A-NUMBER, OID-IRI, RELATIVE- OID-IRI, TIME, TIME-OF-DAY)) are currently used in any of the ASN.1 specifications referred to here.</p>
<p id="rfc.section.A.p.3">This ASN.1 module imports ASN.1 from <a href="#RFC5912">[RFC5912]</a>.</p>
<p id="rfc.section.A.p.4">TO DO: this ASN.1 module is a stub and needs to be redone!</p>
<pre>
  TN-Module-2016-2
    { iso(1) identified-organization(3) dod(6) internet(1) security(5)
      mechanisms(5) pkix(7) id-mod(0) id-mod-tn-module(TBD) }

  DEFINITIONS EXPLICIT TAGS ::= BEGIN

  IMPORTS

  id-ad, id-ad-ocsp, id-pe  -- From [RFC5912]
    FROM PKIX1Explicit-2009
      { iso(1) identified-organization(3) dod(6) internet(1) security(5)
        mechanisms(5) pkix(7) id-mod(0) id-mod-pkix1-explicit-02(51) }

   EXTENSION  -- From [RFC5912]
     FROM PKIX-CommonTypes-2009
       { iso(1) identified-organization(3) dod(6) internet(1) security(5)
         mechanisms(5) pkix(7) id-mod(0) id-mod-pkixCommon-02(57) }

  ;

  id-pkix-ocsp OBECT IDENTIFIER ::= id-ad-ocsp

  --
  -- Telephone Number Query OCSP Extension
  --

  re-ocsp-tn-query  EXTENSION ::= {
    SYNTAX TNQuery IDENTIFIED BY id-pkix-ocsp-stir-tn }

  TNQuery ::= E164Number

  id-pkix-ocsp-stir-tn    OBJECT IDENTIFIER ::= { id-pkix-ocsp 10 }

  END
</pre>
<h1 id="rfc.authors">
  <a href="#rfc.authors">Authors' Addresses</a>
</h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Jon Peterson</span> 
	  <span class="n hidden">
		<span class="family-name">Peterson</span>
	  </span>
	</span>
	<span class="org vcardline">Neustar, Inc.</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:jon.peterson@neustar.biz">jon.peterson@neustar.biz</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Sean Turner</span> 
	  <span class="n hidden">
		<span class="family-name">Turner</span>
	  </span>
	</span>
	<span class="org vcardline">sn3rd</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:sean@sn3rd.com">sean@sn3rd.com</a></span>

  </address>
</div>

</body>
</html>
